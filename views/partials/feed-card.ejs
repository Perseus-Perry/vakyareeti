<div class="col-auto mb-3">
<div class="card" style="width: 50rem;" >
  <div class="card-body" >
    <% var creationDate= new Date(post.createdAt.toString()); %>
    <% var currentDate = new Date();%>
    <% var diff = Math.abs(creationDate-currentDate); %>
    <% const diffDays = Math.round(diff / (1000 * 60 * 60 * 24));  %>
    <% const diffHours = Math.round(diff / (1000 * 60 * 60));  %>
    <% const diffMinutes = Math.round(diff / (1000 * 60));  %>


    <h3 class="card-title"><%=post.title%></h3>

    <div style="clear: both">

    <h6 class="by" style="float: left">by <span class="username"><a href="/user/<%=post.username%>"><%=post.username%></a></h6><h6 style="display:inline;margin: 0 45% 0 5px" class="card-title"></h6>
    <%if(diffDays>1){%>
    <h6 style="float: right;color: #F0F8FF;"> <%=diffDays%> days ago </h6>
    <%}%>
    <%if(diffDays===1){%>
    <h6 style="float: right;color: #F0F8FF;" > <%=diffDays%> day ago </h6>
    <%}%>
    <%if(diffDays<1 && diffHours>1){%>
    <h6 style="float: right;color: #F0F8FF;"> <%=diffHours%> hours ago </h6>
    <%}%>
    <%if(diffDays<1 && diffHours===1){%>
    <h6 style="float: right;color: #F0F8FF;"> <%=diffHours%> hour ago </h6>
    <%}%>
    <%if(diffHours<1 && diffMinutes != 1){%>
    <h6 style="float: right;color: #F0F8FF;"> <%=diffMinutes%> minutes ago </h6>
    <%}%>
    <%if(diffHours<1 && diffMinutes === 1){%>
    <h6 style="float: right;color: #F0F8FF;"> <%=diffMinutes%> minute ago </h6>
    <%}%>
    </div>
    <hr>
    <% var body = post.body.substring(0, 100) %>
    <% body = body.substring(0,body.lastIndexOf(" ")) %>
    <p class="card-text"><%=body%><span><a href="/post/<%=post.id%>"> ...Read More</a></p>
      <div class="d-flex justify-content-between align-items-center">
        <div class="btn-group">
          <form class="align-self-end" action="/post/<%=post.id%>">
            <button type="submit" class="align-self-end btn btn-sm btn-outline-secondary">View</button>
          </form>
        </div>
        <% var charPerMin = 1250; %>
        <% var secTaken = Math.round((post.body.length/charPerMin)*60); %>
        <% if(secTaken < 90){%>
          <small class="align-self-end text-muted">Read time : <%=secTaken%> seconds</small>
          <%}%>
          <%if(secTaken > 90){%>
            <%var mins = Math.round(secTaken/60); %>
            <small class="align-self-end text-muted">Read time : <%=mins%> minutes</small>
            <%}%>

          </div>
        </div>
      </div>
</div>
